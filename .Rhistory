gsub("-", "", Sys.Date())
heute <- gsub("-", "", Sys.Date())
heute <- gsub("-", "", Sys.Date())
dest_file <- paste0("data_raw/", heute, "_data.zip")
download.file("https://covid19-dashboard.ages.at/data/data.zip", destfile = dest_file, mode = "wb")
list.files("data_raw/", pattern = "data.zip")
library(dplyr)
library(stringr)
library(lubridate)
list.files("data_raw/", pattern = "data.zip") %>%
as_tibble()
list.files("data_raw/", pattern = "data.zip") %>%
as_tibble() %>%
arrange(desc(value)) %>%
slice(1) %>%
pull()
list.files("data_raw/", pattern = "data.zip") %>%
as_tibble() %>%
arrange(desc(value)) %>%
slice(1) %>%
pull() %>%
unzip()
list.files("data_raw/", pattern = "data.zip", full.names = TRUE) %>%
as_tibble() %>%
arrange(desc(value)) %>%
slice(1) %>%
pull() %>%
unzip()
?unzip()
list.files("data_raw/", pattern = "data.zip", full.names = TRUE) %>%
as_tibble() %>%
arrange(desc(value)) %>%
slice(1) %>%
pull() %>%
unzip(files = "data_recent/")
list.files("data_raw/", pattern = "data.zip", full.names = TRUE) %>%
as_tibble() %>%
arrange(desc(value)) %>%
slice(1) %>%
pull() %>%
unzip(., files = "data_recent/")
list.files("data_raw/", pattern = "data.zip", full.names = TRUE) %>%
as_tibble() %>%
arrange(desc(value)) %>%
slice(1) %>%
pull() %>%
unzip(., exdir = "data_recent/")
heute <- gsub("-", "", Sys.Date())
dest_file <- paste0("data_raw/", heute, "_data.zip")
download.file("https://covid19-dashboard.ages.at/data/data.zip",
destfile = dest_file,
mode = "wb")
library(dplyr)
list.files("data_raw/", pattern = "data.zip", full.names = TRUE) %>%
as_tibble() %>%
arrange(desc(value)) %>%
slice(1) %>%
pull() %>%
unzip(., exdir = "data_recent/")
library(readr)
read_csv2("data_recent/Hospitalisierung.csv")
read_csv2("data_recent/Hospitalisierung.csv") %>%
filter(BundeslandID == 10)
read_csv2("data_recent/Hospitalisierung.csv") %>% names()
read_csv2("data_recent/Hospitalisierung.csv") %>%
filter(BundeslandID == 10)
323+839+671
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names()
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>% names()
library(lubridate)
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>%
mutate(covid_perc = intensiv_betten_bel_covid19/intensiv_betten_kap_ges*100,
meldedatum = dmy_hms(meldedatum)) %>%
ggplot(aes(meldedatum, covid_perc, group = bundesland_id)) +
geom_line() +
facet_wrap(~bundesland)
library(ggplot2)
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>%
mutate(covid_perc = intensiv_betten_bel_covid19/intensiv_betten_kap_ges*100,
meldedatum = dmy_hms(meldedatum)) %>%
ggplot(aes(meldedatum, covid_perc, group = bundesland_id)) +
geom_line() +
facet_wrap(~bundesland)
theme_set(theme_light())
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>%
mutate(covid_perc = intensiv_betten_bel_covid19/intensiv_betten_kap_ges*100,
meldedatum = dmy_hms(meldedatum)) %>%
ggplot(aes(meldedatum, covid_perc, group = bundesland_id)) +
geom_line() +
facet_wrap(~bundesland)
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>%
mutate(covid_perc = intensiv_betten_bel_covid19/intensiv_betten_kap_ges*100,
meldedatum = dmy_hms(meldedatum)) %>%
ggplot(aes(meldedatum, covid_perc, group = bundesland_id, color = bundesland_id)) +
geom_line()
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>%
mutate(covid_perc = intensiv_betten_bel_covid19/intensiv_betten_kap_ges*100,
meldedatum = dmy_hms(meldedatum),
bundesland_id = as.character(bundesland_id)) %>%
ggplot(aes(meldedatum, covid_perc, group = bundesland_id, color = bundesland_id)) +
geom_line()
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>%
mutate(covid_perc = intensiv_betten_bel_covid19/intensiv_betten_kap_ges*100,
meldedatum = dmy_hms(meldedatum),
bundesland_id = as.character(bundesland_id)) %>%
ggplot(aes(meldedatum, covid_perc, group = bundesland, color = bundesland)) +
geom_line()
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>%
mutate(covid_perc = intensiv_betten_bel_covid19/intensiv_betten_kap_ges*100,
meldedatum = dmy_hms(meldedatum),
bundesland_id = as.character(bundesland_id)) %>%
filter(bundesland_id != "10") %>%
ggplot(aes(meldedatum, covid_perc, group = bundesland, color = bundesland)) +
geom_line()
heute <- gsub("-", "", Sys.Date())
dest_file <- paste0("data_raw/", heute, "_data.zip")
download.file("https://covid19-dashboard.ages.at/data/data.zip",
destfile = dest_file,
mode = "wb")
library(dplyr)
list.files("data_raw/", pattern = "data.zip", full.names = TRUE) %>%
as_tibble() %>%
arrange(desc(value)) %>%
slice(1) %>%
pull() %>%
unzip(., exdir = "data_recent/")
library(readr)
library(lubridate)
library(ggplot2)
theme_set(theme_light())
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names() %>%
mutate(covid_perc = intensiv_betten_bel_covid19/intensiv_betten_kap_ges*100,
meldedatum = dmy_hms(meldedatum),
bundesland_id = as.character(bundesland_id)) %>%
filter(bundesland_id != "10") %>%
ggplot(aes(meldedatum, covid_perc, group = bundesland, color = bundesland)) +
geom_line()
read_csv2("data_recent/Hospitalisierung.csv") %>%
janitor::clean_names()
